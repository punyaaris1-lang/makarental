<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Admin</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="styles.css">
</head>
<body>

<h2>ADMIN PANEL</h2>

<select id="userSel"></select>
<button onclick="togglePlus()">Toggle MAKA+</button>

<h3>Tambah Part Gratis</h3>
<input id="partNote" placeholder="Catatan part">
<button onclick="addPart()">Tambah</button>

<script src="app.js"></script>
<script>
const sel=document.getElementById('userSel');
DB.users.forEach(u=>{
  const o=document.createElement('option');
  o.value=u.id;o.textContent=u.nama;
  sel.appendChild(o);
});

function togglePlus(){
  const u=DB.users.find(x=>x.id===sel.value);
  u.makaPlus.active=!u.makaPlus.active;
  u.makaPlus.activatedAt=new Date().toISOString();
  saveDB(DB);
  alert('MAKA+ diubah');
}

function addPart(){
  const u=DB.users.find(x=>x.id===sel.value);
  u.freeParts.push({date:dateOnly(new Date()),note:partNote.value});
  saveDB(DB);
  alert('Part dicatat');
}
</script>
</body>
</html>
