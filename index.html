<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MAKA ‚Äì Pendaftaran</title>

<style>
:root{
 --bg:#020512;
 --card:#0b1324;
 --line:rgba(255,255,255,.08);
 --blue:#3d5cff;
 --text:#dbe7ff;
}

*{box-sizing:border-box}

body{
 margin:0;
 background:linear-gradient(180deg,#020512,#060a18);
 font-family:Inter,system-ui;
 color:var(--text);
}

.container{
 max-width:420px;
 margin:auto;
 padding:32px 20px;
}

h1{
 font-size:1.4em;
 margin-bottom:6px;
}

p.desc{
 font-size:.85em;
 color:#9fb2ff;
 margin-bottom:28px;
}

.card{
 background:var(--card);
 border-radius:20px;
 padding:22px;
 border:1px solid var(--line);
 box-shadow:0 18px 30px rgba(0,0,0,.6);
}

label{
 display:block;
 font-size:.75em;
 color:#9fb2ff;
 margin-bottom:6px;
 margin-top:16px;
}

input,select{
 width:100%;
 padding:14px;
 border-radius:14px;
 border:1px solid var(--line);
 background:#050814;
 color:#fff;
 font-size:.95em;
 outline:none;
}

input:focus,select:focus{
 border-color:var(--blue);
}

.info{
 font-size:.7em;
 color:#8fa4ff;
 margin-top:6px;
}

button{
 width:100%;
 padding:15px;
 margin-top:24px;
 border-radius:16px;
 border:none;
 font-weight:700;
 font-size:1em;
 background:var(--blue);
 color:white;
 cursor:pointer;
}

button:active{
 transform:scale(.98);
}

.footer-note{
 margin-top:18px;
 font-size:.65em;
 color:#777;
 text-align:center;
}
</style>

<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js"></script>
<script>
const firebaseConfig = {
  apiKey: "API_KEY",
  authDomain: "PROJECT.firebaseapp.com",
  projectId: "PROJECT",
  storageBucket: "PROJECT.appspot.com",
  messagingSenderId: "XXXX",
  appId: "XXXX"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();
</script>
</head>

<body>

<div class="container">
<h1>Selamat Datang üëã</h1>
<p class="desc">Lengkapi data di bawah untuk mulai menggunakan MAKA</p>

<div class="card">

<label>Nama Lengkap</label>
<input id="nama" placeholder="Nama pengguna">

<label>Plat Nomor Motor</label>
<input id="plat" placeholder="B 1234 CD">

<label>Tanggal Ambil Motor</label>
<input type="date" id="tglAmbil">

<label>Metode Down Payment</label>
<select id="dpMode">
 <option value="355">DP 355.000 (cicil DP)</option>
 <option value="755">DP 755.000 (langsung lunas)</option>
</select>
<div class="info">
‚Ä¢ DP 355: cicilan 70rb (14 & 28) selama 3 bulan<br>
‚Ä¢ DP 755: langsung libur tgl 14 & 28
</div>

<button onclick="daftar()">Mulai Sekarang</button>

</div>

<div class="footer-note">
Dengan melanjutkan, Anda menyetujui sistem pembayaran MAKA
</div>
</div>

<script>
async function daftar(){
 const nama = document.getElementById('nama').value.trim()
 const plat = document.getElementById('plat').value.trim()
 const tglAmbil = document.getElementById('tglAmbil').value
 const dpMode = document.getElementById('dpMode').value

 if(!nama || !plat || !tglAmbil){
   alert('Lengkapi semua data')
   return
 }

 const uid = 'UID_' + Date.now()

 await db.collection('maka_users').doc(uid).set({
   nama,
   plat,
   tglAmbil,
   dpMode,
   makaPlus:false,          // ‚¨ÖÔ∏è user aktifkan sendiri di dashboard
   makaPlusActiveAt:null,   // ‚¨ÖÔ∏è nanti diisi saat user aktifkan
   createdAt:Date.now(),
   status:'aktif'
 })

 localStorage.setItem('MAKA_UID', uid)

 location.href = 'dashboard.html'
}
</script>

</body>
</html>
