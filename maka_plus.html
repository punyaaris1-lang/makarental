<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>MAKA+ Charger</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800;900&family=Syne:wght@700&display=swap" rel="stylesheet">

<style>
/* ================= GLOBAL PREMIUM THEME ================= */
:root {
  --bg-base: #f0f4f8;
  --accent: #0ea5a6;
  --accent-2: #06b6d4;
  --text: #0f1724;
  --muted: #64748b;
  --gold: #fbbf24;
  
  --glass-bg: rgba(255, 255, 255, 0.65);
  --glass-border: rgba(255, 255, 255, 0.4);
  --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
  --backdrop-blur: blur(12px);
  
  --radius-lg: 24px;
  --max-width: 520px;
}

* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

body {
  margin: 0; padding: 0;
  font-family: 'Inter', sans-serif;
  background-color: var(--bg-base);
  color: var(--text);
  min-height: 100vh;
  position: relative;
  overflow-x: hidden;
}

body::before {
  content: "";
  position: fixed; top: 0; left: 0; right: 0; bottom: 0;
  background: url('1763947427555.jpg') center/cover no-repeat; 
  opacity: 0.15; z-index: -1; pointer-events: none;
}

.app-container {
  max-width: var(--max-width);
  margin: 0 auto;
  padding: 20px 20px 120px 20px;
}

/* HEADER */
.header { margin-bottom: 24px; text-align: center; }
.header h1 {
  font-family: 'Syne', sans-serif; font-size: 1.8em; font-weight: 800;
  margin: 0; color: var(--text);
}
.header p { color: var(--muted); margin: 6px 0 0 0; font-size: 0.9em; }

/* PRODUCT HERO (GLASS) */
.product-card {
  background: var(--glass-bg);
  box-shadow: var(--glass-shadow);
  backdrop-filter: var(--backdrop-blur);
  -webkit-backdrop-filter: var(--backdrop-blur);
  border: 1px solid var(--glass-border);
  border-radius: var(--radius-lg);
  padding: 30px 20px;
  text-align: center;
  margin-bottom: 24px;
}

.prod-circle {
  width: 100px; height: 100px; border-radius: 50%;
  background: linear-gradient(135deg, #e0f2fe, #fff);
  display: flex; align-items: center; justify-content: center;
  font-size: 50px; margin: 0 auto 20px;
  border: 1px dashed var(--accent);
  box-shadow: 0 10px 30px rgba(14, 165, 166, 0.2);
}

.prod-title { font-family: 'Syne'; font-size: 1.4em; font-weight: 800; margin-bottom: 10px; }
.prod-desc { font-size: 0.9em; color: var(--muted); line-height: 1.5; margin-bottom: 25px; }

/* STEPS FLOW */
.steps-container {
  text-align: left; background: rgba(255,255,255,0.4); 
  padding: 20px; border-radius: 16px; margin-bottom: 25px;
}
.step-item { display: flex; gap: 12px; margin-bottom: 15px; }
.step-item:last-child { margin-bottom: 0; }
.step-num { 
  background: var(--text); color: white; width: 24px; height: 24px; 
  border-radius: 50%; text-align: center; line-height: 24px; font-size: 12px; font-weight: bold; flex-shrink: 0;
}
.step-text { font-size: 0.9em; line-height: 1.4; color: #334155; }
.step-text a { color: var(--accent); font-weight: 700; text-decoration: none; }

/* PRICE BOX */
.price-box {
  background: linear-gradient(135deg, var(--text), #1a2333);
  color: white; padding: 20px; border-radius: 20px;
  display: flex; justify-content: space-between; align-items: center;
  margin-bottom: 25px;
}
.price-val { font-family: 'Syne'; font-size: 1.5em; font-weight: 800; color: var(--gold); }

/* STATUS BADGE (HIDDEN DEFAULT) */
.status-badge {
  background: #f0fdf4; border: 1px solid #22c55e; color: #15803d;
  padding: 15px; border-radius: 16px; font-size: 0.9em; line-height: 1.5;
  margin-bottom: 20px; display: none;
}
.status-badge.active { display: block; }

/* BUTTONS */
.btn-main {
  width: 100%; padding: 18px; border: none; border-radius: 18px;
  background: linear-gradient(90deg, var(--accent), var(--accent-2));
  color: white; font-family: 'Syne'; font-size: 1em; font-weight: 800;
  cursor: pointer; box-shadow: 0 10px 25px rgba(14, 165, 166, 0.3);
  transition: 0.2s;
}
.btn-main:active { transform: scale(0.98); }
.btn-main:disabled { background: #cbd5e1; color: #94a3b8; box-shadow: none; cursor: default; }

/* MODAL CONFIRM (PREMIUM) */
.modal-overlay {
  position: fixed; inset: 0; background: rgba(0,0,0,0.6); backdrop-filter: blur(8px);
  display: none; align-items: center; justify-content: center; z-index: 2000;
  opacity: 0; transition: opacity 0.3s;
}
.modal-overlay.active { display: flex; opacity: 1; }

.modal-content {
  background: #fff; width: 85%; max-width: 340px; padding: 30px; border-radius: 28px;
  text-align: center; box-shadow: 0 25px 50px rgba(0,0,0,0.3); transform: scale(0.9); transition: transform 0.3s;
}
.modal-overlay.active .modal-content { transform: scale(1); }

.modal-content h3 { font-family: 'Syne'; font-size: 1.4em; margin: 0 0 10px; }
.modal-content p { color: var(--muted); margin: 0 0 25px; line-height: 1.5; }

.modal-actions { display: flex; gap: 12px; }
.btn-cancel {
  flex: 1; padding: 14px; background: #f1f5f9; color: var(--muted);
  border: none; border-radius: 14px; font-weight: 800; cursor: pointer;
}
.btn-confirm {
  flex: 1; padding: 14px; background: var(--text); color: var(--gold);
  border: none; border-radius: 14px; font-weight: 800; cursor: pointer;
}

/* NAV STANDAR */
footer.bottom-nav {
  position: fixed; left: 50%; transform: translateX(-50%); bottom: 20px;
  width: calc(100% - 40px); max-width: 480px;
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px);
  border-radius: 999px; padding: 12px 20px; display: flex; justify-content: space-around;
  align-items: center; box-shadow: 0 15px 40px rgba(0,0,0,0.1);
  border: 1px solid rgba(255,255,255,0.5); z-index: 999;
}
.nav-item {
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  text-decoration: none; color: var(--muted); font-size: 11px; gap: 4px; transition: 0.2s;
}
.nav-item span { font-size: 20px; margin-bottom: 2px; }
.nav-item.active { color: var(--accent); font-weight: 700; }
.nav-item.active span { transform: scale(1.1); filter: drop-shadow(0 2px 4px rgba(14,165,166,0.3)); }
</style>
</head>
<body>

<div class="app-container">
    <header class="header">
        <h1>MAKA+</h1>
        <p>Program Kepemilikan Charger</p>
    </header>

    <div class="product-card">
        <div class="prod-circle">üîå</div>
        <div class="prod-title">Portable Fast Charger</div>
        
        <div class="steps-container">
            <div class="step-item">
                <div class="step-num">1</div>
                <div class="step-text">
                    Isi formulir pendaftaran di sini:<br>
                    <a href="https://bit.ly/semilchargerplus" target="_blank">üîó bit.ly/semilchargerplus</a>
                </div>
            </div>
            <div class="step-item">
                <div class="step-num">2</div>
                <div class="step-text">
                    Tunggu persetujuan Admin. Anda akan dihubungi untuk pengambilan unit charger.
                </div>
            </div>
            <div class="step-item">
                <div class="step-num">3</div>
                <div class="step-text">
                    Setelah unit diterima, klik tombol <b>"Aktifkan Cicilan"</b> di bawah ini untuk memulai billing.
                </div>
            </div>
        </div>

        <div class="price-box">
            <div style="text-align:left;">
                <span style="font-size:0.8em; opacity:0.7;">BIAYA CICILAN</span><br>
                <span style="font-size:0.7em;">(Selama 365 Hari)</span>
            </div>
            <div class="price-val">+10rb<span style="font-size:0.5em;">/hari</span></div>
        </div>

        <div id="statusArea" class="status-badge">
            ‚úÖ <b>CICILAN SEDANG BERJALAN</b><br>
            Aktif Sejak: <span id="lblDate">-</span><br>
            Selesai: <span id="lblEnd">-</span>
        </div>

        <button id="btnAction" class="btn-main" onclick="openModal()">
            AKTIFKAN CICILAN
        </button>
    </div>
</div>

<div id="modalConfirm" class="modal-overlay">
    <div class="modal-content">
        <h3>Konfirmasi Aktivasi</h3>
        <p>Apakah Anda sudah menerima unit Charger?<br><br>
        Tagihan harian Anda akan otomatis bertambah <b>Rp 10.000</b> selama <b>1 TAHUN</b> (365 Hari).</p>
        
        <div class="modal-actions">
            <button class="btn-cancel" onclick="closeModal()">Batal</button>
            <button class="btn-confirm" onclick="confirmActivation()">Ya, Aktifkan</button>
        </div>
    </div>
</div>

<footer class="bottom-nav">
  <a href="lokasi_fc.html" class="nav-item"><span>‚ö°</span>Lokasi</a>
  <a href="dashboard.html" class="nav-item"><span>üè†</span>Home</a>
  <a href="daftar_antrian.html" class="nav-item"><span>üé´</span>Antrian</a>
</footer>

<script>
    const MAKA_PLUS_KEY = 'maka_plus_data';

    function loadState() {
        const data = JSON.parse(localStorage.getItem(MAKA_PLUS_KEY));
        const btn = document.getElementById('btnAction');
        const badge = document.getElementById('statusArea');
        
        if (data && data.active) {
            const start = new Date(data.activatedAt);
            const end = new Date(start);
            end.setDate(start.getDate() + 365);

            document.getElementById('lblDate').textContent = start.toLocaleDateString('id-ID');
            document.getElementById('lblEnd').textContent = end.toLocaleDateString('id-ID');

            badge.classList.add('active');
            btn.disabled = true;
            btn.textContent = "CICILAN AKTIF";
            btn.style.background = "#cbd5e1";
            btn.style.color = "#64748b";
            btn.style.boxShadow = "none";
        }
    }

    function openModal() {
        // Cek dulu kalau sudah aktif ga perlu buka modal (double check)
        const btn = document.getElementById('btnAction');
        if(!btn.disabled) {
            document.getElementById('modalConfirm').classList.add('active');
        }
    }

    function closeModal() {
        document.getElementById('modalConfirm').classList.remove('active');
    }

    function confirmActivation() {
        const today = new Date();
        today.setHours(0,0,0,0); // Reset jam agar kalkulasi hari akurat

        const data = {
            active: true,
            activatedAt: today.toISOString()
        };

        localStorage.setItem(MAKA_PLUS_KEY, JSON.stringify(data));
        closeModal();
        loadState();
        
        // Alert sukses kecil
        setTimeout(() => alert("‚úÖ Cicilan Berhasil Diaktifkan!"), 300);
    }

    document.addEventListener('DOMContentLoaded', loadState);
</script>
</body>
</html>
