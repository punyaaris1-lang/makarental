<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>MAKA+ Charger</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Syne:wght@700;800&display=swap" rel="stylesheet">
<link rel="manifest" href="/makarental/manifest.json"> 
  
<style>
/* === MAKA MOTORS THEME === */
:root {
  --maka-black: #0f1724;
  --maka-white: #ffffff;
  --maka-yellow: #fbbf24;
  --maka-teal: #0ea5a6;
  --bg-page: #f8fafc;
  --border-color: #e2e8f0;
  --text-muted: #64748b;
}

body {
  margin: 0; padding: 0;
  font-family: 'Inter', sans-serif;
  background-color: var(--bg-page);
  color: var(--maka-black);
  min-height: 100vh;
  padding-bottom: 100px;
}

.app-container { max-width: 480px; margin: 0 auto; padding: 20px 24px; }

/* HEADER */
.header-simple { text-align: center; margin-bottom: 30px; margin-top: 10px; }
.page-title {
    font-family: 'Syne', sans-serif; font-size: 1.8em; font-weight: 800;
    margin: 0;
}
.page-subtitle { color: var(--text-muted); margin-top: 5px; font-size: 0.9em; }

/* PRODUCT CARD */
.product-card {
  background: var(--maka-white);
  border: 1px solid var(--border-color);
  border-radius: 24px;
  padding: 30px 24px;
  text-align: center;
  box-shadow: 0 4px 15px rgba(0,0,0,0.03);
  margin-bottom: 24px;
}

.prod-icon {
  width: 80px; height: 80px; border-radius: 50%;
  background: #f1f5f9; color: var(--maka-black);
  display: flex; align-items: center; justify-content: center;
  font-size: 40px; margin: 0 auto 20px;
  border: 2px solid var(--maka-black);
}

.prod-title { font-family: 'Syne'; font-size: 1.4em; font-weight: 800; margin-bottom: 10px; }
.prod-desc { font-size: 0.9em; color: var(--text-muted); line-height: 1.6; margin-bottom: 30px; }

/* STEPS FLOW */
.steps-container {
  text-align: left; 
  padding: 20px; border-radius: 16px; margin-bottom: 30px;
  border: 1px dashed var(--border-color); background: #f8fafc;
}
.step-item { display: flex; gap: 15px; margin-bottom: 20px; }
.step-item:last-child { margin-bottom: 0; }
.step-num { 
  background: var(--maka-black); color: var(--maka-yellow); 
  width: 24px; height: 24px; border-radius: 50%; 
  text-align: center; line-height: 24px; font-size: 12px; font-weight: bold; flex-shrink: 0;
}
.step-text { font-size: 0.9em; line-height: 1.5; color: #334155; }
.step-text a { color: var(--maka-teal); font-weight: 700; text-decoration: none; }

/* PRICE BOX (DARK THEME) */
.price-box {
  background: var(--maka-black);
  color: white; padding: 20px; border-radius: 16px;
  display: flex; justify-content: space-between; align-items: center;
  margin-bottom: 25px;
}
.price-lbl { font-size: 0.7em; opacity: 0.7; letter-spacing: 1px; font-weight: 700; }
.price-val { font-family: 'Syne'; font-size: 1.6em; font-weight: 800; color: var(--maka-yellow); }

/* STATUS BADGE */
.status-badge {
  background: #f0fdf4; border: 1px solid #bbf7d0; color: #166534;
  padding: 15px; border-radius: 16px; font-size: 0.9em; line-height: 1.5;
  margin-bottom: 20px; display: none; text-align: left;
}
.status-badge.active { display: block; }

/* BUTTON */
.btn-main {
  width: 100%; padding: 16px; border: none; border-radius: 14px;
  background: var(--maka-black); color: white;
  font-family: 'Syne'; font-size: 1em; font-weight: 800;
  cursor: pointer; transition: 0.2s;
}
.btn-main:active { transform: scale(0.98); opacity: 0.9; }
.btn-main:disabled { background: #cbd5e1; color: #94a3b8; cursor: default; }

/* MODAL CONFIRM */
.modal-overlay {
  position: fixed; inset: 0; background: rgba(0,0,0,0.6); backdrop-filter: blur(5px);
  display: none; align-items: center; justify-content: center; z-index: 2000;
}
.modal-content {
  background: #fff; width: 85%; max-width: 340px; padding: 30px; border-radius: 24px;
  text-align: center;
}
.modal-title { font-family: 'Syne'; font-size: 1.4em; font-weight: 800; margin: 0 0 10px; }
.modal-actions { display: flex; gap: 12px; margin-top: 25px; }
.btn-cancel {
  flex: 1; padding: 14px; background: #f1f5f9; color: var(--text-muted);
  border: none; border-radius: 12px; font-weight: 700; cursor: pointer;
}
.btn-confirm {
  flex: 1; padding: 14px; background: var(--maka-black); color: var(--maka-yellow);
  border: none; border-radius: 12px; font-weight: 700; cursor: pointer;
}

/* NAV */
footer.bottom-nav {
    position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%);
    background: var(--maka-black); border-radius: 100px; padding: 12px 30px;
    display: flex; gap: 30px; box-shadow: 0 15px 40px rgba(0,0,0,0.25); z-index: 999;
}
.nav-item { display: flex; flex-direction: column; align-items: center; text-decoration: none; color: #64748b; font-size: 10px; font-weight: 600; }
.nav-item span { font-size: 20px; margin-bottom: 2px; }
.nav-item.active span { color: var(--maka-yellow); }
</style>
</head>
<body>

<div class="app-container">
    <div class="header-simple">
        <h1 class="page-title">MAKA+</h1>
        <p class="page-subtitle">Program Kepemilikan Charger</p>
    </div>

    <div class="product-card">
        <div class="prod-icon">üîå</div>
        <div class="prod-title">Fast Charger</div>
        
        <div class="steps-container">
            <div class="step-item">
                <div class="step-num">1</div>
                <div class="step-text">
                    Isi formulir pendaftaran di:<br>
                    <a href="https://bit.ly/semilchargerplus" target="_blank">üîó bit.ly/semilchargerplus</a>
                </div>
            </div>
            <div class="step-item">
                <div class="step-num">2</div>
                <div class="step-text">
                    Tunggu persetujuan Admin & pengambilan unit.
                </div>
            </div>
            <div class="step-item">
                <div class="step-num">3</div>
                <div class="step-text">
                    Setelah unit diterima, klik <b>"Aktifkan Cicilan"</b> di bawah.
                </div>
            </div>
        </div>

        <div class="price-box">
            <div style="text-align:left;">
                <span class="price-lbl">TAMBAHAN BIAYA</span><br>
                <span style="font-size:0.7em;">(Selama 365 Hari)</span>
            </div>
            <div class="price-val">+10rb<span style="font-size:0.5em;">/hari</span></div>
        </div>

        <div id="statusArea" class="status-badge">
            ‚úÖ <b>CICILAN SEDANG BERJALAN</b><br>
            <small>Aktif Sejak: <span id="lblDate">-</span></small><br>
            <small>Selesai: <span id="lblEnd">-</span></small>
        </div>

        <button id="btnAction" class="btn-main" onclick="openModal()">
            AKTIFKAN CICILAN
        </button>
    </div>
</div>

<div id="modalConfirm" class="modal-overlay">
    <div class="modal-content">
        <h3 class="modal-title">Konfirmasi</h3>
        <p style="color:#64748b; font-size:0.95em;">
            Apakah unit Charger sudah diterima?<br><br>
            Tagihan harian akan bertambah <b>Rp 10.000</b> selama <b>1 TAHUN</b>.
        </p>
        <div class="modal-actions">
            <button class="btn-cancel" onclick="closeModal()">Batal</button>
            <button class="btn-confirm" onclick="confirmActivation()">Ya, Aktifkan</button>
        </div>
    </div>
</div>

<footer class="bottom-nav">
  <a href="lokasi_fc.html" class="nav-item"><span>‚ö°</span>Lokasi</a>
  <a href="dashboard.html" class="nav-item"><span>üè†</span>Home</a>
  <a href="daftar_antrian.html" class="nav-item"><span>üé´</span>Antrian</a>
</footer>

<script>
    const MAKA_PLUS_KEY = 'maka_plus_data';

    function loadState() {
        const data = JSON.parse(localStorage.getItem(MAKA_PLUS_KEY));
        const btn = document.getElementById('btnAction');
        const badge = document.getElementById('statusArea');
        
        if (data && data.active) {
            const start = new Date(data.activatedAt);
            const end = new Date(start);
            end.setDate(start.getDate() + 365);

            document.getElementById('lblDate').textContent = start.toLocaleDateString('id-ID');
            document.getElementById('lblEnd').textContent = end.toLocaleDateString('id-ID');

            badge.classList.add('active');
            btn.disabled = true;
            btn.textContent = "CICILAN AKTIF";
            btn.style.background = "#e2e8f0"; // Disabled gray
            btn.style.color = "#94a3b8";
        }
    }

    function openModal() {
        if(!document.getElementById('btnAction').disabled) {
            document.getElementById('modalConfirm').style.display = 'flex';
        }
    }
    function closeModal() { document.getElementById('modalConfirm').style.display = 'none'; }

    function confirmActivation() {
        const today = new Date();
        today.setHours(0,0,0,0);
        localStorage.setItem(MAKA_PLUS_KEY, JSON.stringify({ active: true, activatedAt: today.toISOString() }));
        closeModal();
        loadState();
        alert("Aktivasi Berhasil! Tagihan Anda telah diperbarui.");
    }

    document.addEventListener('DOMContentLoaded', loadState);
</script>
</body>
</html>
